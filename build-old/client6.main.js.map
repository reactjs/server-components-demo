{"version":3,"file":"client6.main.js","sources":["webpack:///./src/SidebarNote.client.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport {useState, useRef, useEffect, useTransition} from 'react';\n\nimport {useLocation} from './LocationContext.client';\n\nexport default function SidebarNote({id, title, children, expandedChildren}) {\n  const [location, setLocation] = useLocation();\n  const [isPending, startTransition] = useTransition();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const isActive = id === location.selectedId;\n\n  // Animate after title is edited.\n  const itemRef = useRef(null);\n  const prevTitleRef = useRef(title);\n  useEffect(() => {\n    if (title !== prevTitleRef.current) {\n      prevTitleRef.current = title;\n      itemRef.current.classList.add('flash');\n    }\n  }, [title]);\n\n  return (\n    <div\n      ref={itemRef}\n      onAnimationEnd={() => {\n        itemRef.current.classList.remove('flash');\n      }}\n      className={[\n        'sidebar-note-list-item',\n        isExpanded ? 'note-expanded' : '',\n      ].join(' ')}>\n      {children}\n      <button\n        className=\"sidebar-note-open\"\n        style={{\n          backgroundColor: isPending\n            ? 'var(--gray-80)'\n            : isActive\n            ? 'var(--tertiary-blue)'\n            : '',\n          border: isActive\n            ? '1px solid var(--primary-border)'\n            : '1px solid transparent',\n        }}\n        onClick={() => {\n          startTransition(() => {\n            setLocation((loc) => ({\n              selectedId: id,\n              isEditing: false,\n              searchText: loc.searchText,\n            }));\n          });\n        }}>\n        Open note for preview\n      </button>\n      <button\n        className=\"sidebar-note-toggle-expand\"\n        onClick={(e) => {\n          e.stopPropagation();\n          setIsExpanded(!isExpanded);\n        }}>\n        {isExpanded ? (\n          <img\n            src=\"chevron-down.svg\"\n            width=\"10px\"\n            height=\"10px\"\n            alt=\"Collapse\"\n          />\n        ) : (\n          <img src=\"chevron-up.svg\" width=\"10px\" height=\"10px\" alt=\"Expand\" />\n        )}\n      </button>\n      {isExpanded && expandedChildren}\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AALA;AAWA;AACA;AACA;AAKA;AANA;AAUA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAKA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AAAA;AAAA;AAAA;AAAA;AAjCA;AAAA;AAAA;AAAA;AAAA;AAqDA;;;;A","sourceRoot":""}